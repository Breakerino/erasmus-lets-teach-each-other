---
import Gallery from "../components/Gallery.astro";
const { country, activities, gallery } = Astro.props;
---

<!-- Project Week - View -->
<div class="rounded-md overflow-hidden" data-tab-content data-tab-id={`national-activity_${country.code}`}>
	<!-- Project Week - Header -->
	<hgroup
		class="flex flex-row gap-4 text-blue-500 justify-between py-8 px-8 bg-blue-50 bg-opacity-50"
	>
		<h1 class="text-4xl font-semibold">{country.name}</h1>
	</hgroup>

	<!-- Project Week - Content --> 
	<div class="bg-white p-8 grid grid-cols-2 gap-8">
		<!-- Project Week - Gallery -->
		<div>
			<Gallery
				id={`national-activity-gallery_${country.code}`}
				images={gallery.map((image) => ({
					url: `national-activities/${country.code}/gallery/${image}.jpg`,
					path: import(`../assets/national-activities/${country.code}/gallery/${image}.jpg`)
				}))}
			/>
		</div>
		<!-- Project Week - Activities -->
		<div>
			<h2 class="text-2xl text-blue-500 font-semibold mb-6">Activities</h2>
			<ul class="flex flex-col list-none">
				{
					activities.map(({ name, file, type }) => (
						<li class="pb-2 mb-2 gap-4 last:mb-0 border-b last:border-b-0 flex items-center justify-between">
							<div class="flex items-center gap-3">
								<img src={`/icons/ico-file-type-${type}.svg`} alt="" />
								<span class="text-blue-500">{name}</span>
							</div>
							<div class="flex items-center gap-2">
								{['pdf', 'mp4'].includes(type) && <a title="View" class="py-1.5 px-4 rounded-md bg-blue-400 hover:bg-blue-500 text-white" href={`/national-activities/${country.code}/documents/${file}`} target="_blank">
									{ type === 'mp4' ? (
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
											<path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
										</svg>
									) : (
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
										<path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
									</svg>
									) }
								</a>}
								<a
									title="Download"
									class="py-1.5 px-4 rounded-md bg-blue-400 hover:bg-blue-500 text-white"
									href={`/national-activities/${country.code}/documents/${file}`}
									download
								>
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
									<path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
								</svg>
								</a>
							</div>
						</li>
					))
				}
			</ul>
		</div>
	</div>
</div>
