---
import { Image, Picture } from "@astrojs/image/components";
import Gallery from "../components/Gallery.astro";
const { country, dates, activities, gallery } = Astro.props;
---

<!-- Project Week - View -->
<div class="rounded-md overflow-hidden" data-tab-content data-tab-id={`project-week_${country.code}`}>
	<!-- Project Week - Header -->
	<hgroup
		class="flex flex-row gap-4 text-blue-500 justify-between py-8 px-8 bg-blue-50 bg-opacity-50"
	>
		<h1 class="text-4xl font-semibold">{country.name}</h1>
		<div class="flex flex-row gap-4 items-center">
			{
				Object.entries(dates).map(([type, date]: [string, string]) => (
					<div class="text-lg">
						<span class="text-light">
							{new Date(date.split("/").reverse().join("-")).toLocaleDateString(
								"en-GB",
								{ weekday: "long" }
							)}
						</span>
						<strong class="text-semibold">{date}</strong>
					</div>
				))
			}
		</div>
	</hgroup>

	<!-- Project Week - Content -->
	<div class="bg-white p-8 grid grid-cols-5 gap-8">
		<!-- Project Week - Activities -->
		<div class="col-span-2">
			<h2 class="text-2xl text-blue-500 font-semibold mb-6">Activities</h2>
			<ul class="flex flex-col list-none">
				{
					activities.map(({ name, file, type }) => (
						<li class="pb-2 mb-2 gap-4 last:mb-0 border-b last:border-b-0 flex items-center justify-between">
							<div class="flex items-center gap-3">
								<img src={`/icons/ico-file-type-${type}.svg`} alt="" />
								<span class="text-blue-500">{name}</span>
							</div>
							<div class="flex items-center gap-2">
								{/*['pdf'].includes(type) && <a class="py-1.5 px-4 rounded-md bg-blue-400 hover:bg-blue-500 text-white" href={`/project-weeks/${country.code}/activities/${file}`} target="_blank">View</a>*/}
								<a
									class="py-1.5 px-4 rounded-md bg-blue-400 hover:bg-blue-500 text-white"
									href={`/project-weeks/${"gr"}/activities/${file}`}
									download
								>
									Download
								</a>
							</div>
						</li>
					))
				}
			</ul>
		</div>
		<!-- Project Week - Gallery -->
		<div class="col-span-3">
			<h2 class="text-2xl text-blue-500 font-semibold mb-6">Gallery</h2>
			<Gallery
				id={`project-week-gallery_${country.code}`}
				images={gallery.map((image) => ({
					path: import(`../assets/project-weeks/gr/gallery/${image}.jpg`)
				}))}
			/>
		</div>
	</div>
</div>
